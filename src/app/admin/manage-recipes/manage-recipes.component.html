<div class="row  w-100 ">
    <div class="col-lg-4 pe-0 " style="position: static;">
        <app-sidebar></app-sidebar>
    </div>
    <div class="col-lg-8 pe-0">
        <div class="container my-5">
            <h2 class="text-grn text-center mb-3 ">Add Recipe Detailes </h2>
            <div class="shadow p-5">
                @if(recipeDetails.image){
                <div class="d-flex justify-content-center mb-2"><img style="width: 150px;" [src]="recipeDetails.image"
                        alt=""></div>
                }
                <div class="row">

                    <div class="col-md-6 d-flex  flex-column ">
                        <input [(ngModel)]="recipeDetails.name" class="form-control mb-2" placeholder="Recipe Name"
                            type="text">
                        <input [(ngModel)]="recipeDetails.prepTimeMinutes" class="form-control mb-2"
                            placeholder="Preperation time in munutes" type="text">
                        <input [(ngModel)]="recipeDetails.image" class="form-control mb-2"
                            placeholder="Recipe Image URL" type="text">
                        <select [(ngModel)]="recipeDetails.cuisine" name="" style="color: #595c5f !important;"
                            class="form-control mb-2" id="">
                            <option style="color: #595c5f;" value="" hidden>Choose cuisine type</option>
                            @for (cuisine of cuisineArray; track $index) {
                            <option [value]='cuisine'>{{cuisine}}</option>
                            }
                        </select>
                        <div class="d-flex gap-2  ">
                            <textarea #ingre name="" class="form-control mb-2 " placeholder="Add ingredients one by one"
                                id=""></textarea>
                            <button (click)="addIngredient(ingre)" class="btn bg-grn rounded text-light"
                                style="height: 60px;">+</button>
                        </div>
                        @for (item of ingredientArray; track $index) {
                        <div class="my-1 d-flex ">
                            <input type="text" [value]="item" class="form-control" readonly>
                            <button class="btn" (click)="deleteIngredient(item)"> <i
                                    class="fa-solid fa-trash text-danger"></i> </button>
                        </div>
                        }

                    </div>
                    <div class="col-md-6 d-flex  flex-column ">
                        <input [(ngModel)]="recipeDetails.cookTimeMinutes" class="form-control mb-2"
                            placeholder="Cooking time in minutes" type="text">
                        <input [(ngModel)]="recipeDetails.servings" class="form-control mb-2"
                            placeholder="Servings (ex:4)" type="text">
                        <input [(ngModel)]="recipeDetails.caloriesPerServing" class="form-control mb-2"
                            placeholder=" Calorie per Serving " type="text">
                        <select [(ngModel)]="recipeDetails.difficulty" name="" style="color: #595c5f !important;"
                            class="form-control mb-2" id="">
                            <option style="color: #595c5f;" value="" hidden>Choose difficulty </option>
                            <option value="Easy">Easy</option>
                            <option value="Medium">Medium</option>
                            <option value="Hard">Hard</option>

                        </select>
                        <div class="d-flex gap-2  ">
                            <textarea #instr name="" class="form-control mb-2 "
                                placeholder="Add Cooking Instructions one by one" id=""></textarea>
                            <button (click)="addInstructions(instr)" class="btn bg-grn rounded text-light"
                                style="height: 60px;">+</button>
                        </div>
                        @for (item of instructionArray; track $index) {
                        <div class="my-1 d-flex ">
                            <input type="text" [value]="item" class="form-control" readonly>
                            <button class="btn" (click)="deleteInstructions(item)"> <i
                                    class="fa-solid fa-trash text-danger"></i> </button>
                        </div>
                        }
                    </div>
                </div>
                <div class="mt-2 border   rounded p-3  mb-3">
                    <h6 class="text-center" style="color: #595c5f !important;">Select Meal Type</h6>
                    @if(id){
                        @for (item of selectedMealTypeArray; track $index) {
                            <span class="me-2 ">-{{item}} <button class="btn" (click)="removeMealType(item)"> <i class="fa-solid fa-close text-danger"></i></button> </span>
                            }
                    }
                    @else {

                        @for (item of selectedMealTypeArray; track $index) {
                        <span class="me-2 ">-{{item}} </span>
                        }
                    }
                    <div class="d-flex flex-wrap gap-2">
                        @for (meal of mealTypeArray; track $index) {
                        <div class="border rounded p-2">
                            <label [for]="meal">
                                <input (change)="addMealType($event)" [name]='meal' [id]="meal" type="checkbox">
                                {{meal}}
                            </label>
                        </div>
                        }


                    </div>

                </div>
                <div class="">
                    @if (id) {

                        <button (click)="updateRecipe()" class=" w-100 bg-grn btn text-light">Update Recipe</button>
                    }
                    @else {
                        <button (click)="addRecipe()" class=" w-100 bg-grn btn text-light">Add Recipe</button>
                    }
                </div>

            </div>
        </div>
    </div>
</div>